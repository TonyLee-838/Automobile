#  Fluid Mechanics
  
  
##  Viscosity (粘度)
  
  
- measure of a fluid's _resistance_ to flow, which determines the _fluid strain rate_ that's generated by the given shear stress.
- **Viscosity Coefficient <img src="https://latex.codecogs.com/gif.latex?&#x5C;mu"/>** are given by
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?&#x5C;tau%20=%20&#x5C;mu%20&#x5C;frac{du}{dy}"/></p>  
  
  which <img src="https://latex.codecogs.com/gif.latex?u"/> is moving speed of _upper surface_.
  - The _linear fluids_ that follow the equation above are called **newtonian fluid**.
  - The viscosity of newtonian fluid is a thermodynamic property and varies with _temperature_ and _pressure_. But generally, viscosity grows **weakly** with **pressure** but **strongly** with **temperature**.
  
##  Kinematic Viscosity
  
  
- Definition:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?&#x5C;nu%20=%20&#x5C;frac{&#x5C;mu}{&#x5C;rho}"/></p>  
  
  
##  Hydrostatic
  
  
###  Hydrostatic Condition:
  
  
1.  Pressure in a static fluid varies only with **vertical distance**, and it's independent of the shape of the container.
2.  The pressure is _the same_ at all points on a given horizontal plane in the fluid.
3.  The pressure increase with _DEPTH_ in the fluid.
  
<img src="./assets/hydrostatic.jpeg" width="120%">
  
###  Hydrostatic in Liquids:
  
  
- Liquids are nearly incompressible. Their density merely increase as going depth. Thus, we assume there's **constant density** in liquid hydrostatic calculations
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?p_2%20-%20p_1%20=%20&#x5C;rho%20g%20(z_1%20-%20z_2)"/></p>  
  
  Or
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?z_1%20-%20z_2%20=%20&#x5C;frac{p_2}{&#x5C;rho%20g}%20-%20&#x5C;frac{p_1}{&#x5C;rho%20g}"/></p>  
  
  
  The quantity <img src="https://latex.codecogs.com/gif.latex?p%20&#x2F;%20&#x5C;rho%20g"/> is a length called the _pressure head_ of the fluid.
  And we give an allies <img src="https://latex.codecogs.com/gif.latex?&#x5C;gamma"/> with the value <img src="https://latex.codecogs.com/gif.latex?&#x5C;gamma%20=%20&#x5C;rho%20g"/> to simplify the expression.  
  <img src="./assets/pressure.jpeg">
  
###  Pascal's Law
  
  
Any two points at the same _elevation (height)_ in a _continuous mass_ of the same _static fluid_ will be at the _same pressure_.
  
<img src="./assets/pascal's-law.jpeg">
  
###  Hydrostatic Force on Plane Surface:
  
  
<p align="center"><img src="https://latex.codecogs.com/gif.latex?F%20=%20&#x5C;int%20p%20&#x5C;%20dA%20=%20&#x5C;int%20(p_{atm}%20+%20&#x5C;rho%20gh)%20=%20p_a%20A%20+%20&#x5C;rho%20g%20&#x5C;int%20h%20&#x5C;%20dA"/></p>  
  
  
and we have relationship in geometry of <img src="https://latex.codecogs.com/gif.latex?&#x5C;int%20h%20dA%20=%20h_{centroid}A"/>, so we have:
<p align="center"><img src="https://latex.codecogs.com/gif.latex?F%20=%20(p_a%20+%20&#x5C;rho%20gh_{centroid})A"/></p>  
  
<img src="./assets/plane-surface.jpeg" width="80%">
  
- We can easily calculate the center of pressure after we introduce the concept of _Moment of Inertia(<img src="https://latex.codecogs.com/gif.latex?I"/>)_:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?y_{CP}%20=%20-&#x5C;frac{I_{xx}&#x5C;sin&#x5C;theta}{h_{CG}A}%20&#x5C;%20&#x5C;%20&#x5C;%20&#x5C;%20x_{CP}%20=%20-&#x5C;frac{I_{xy}&#x5C;sin&#x5C;theta}{h_{CG}A}"/></p>  
  
  
  Pay attention to the _sign convention!_ when we get an _negative \$y_{CP}<img src="https://latex.codecogs.com/gif.latex?or"/>x*{CP}\$*, meaning that the center of pressure should be _down below_ the geometry centroid.
  
    <img src="./assets/moment-of-inertial.jpeg" >
  
- Example:
  > The gate in the figure below is <img src="https://latex.codecogs.com/gif.latex?5ft"/> wide, is hinged at point B, and rests again a smooth wall at point A. Find:
  > (a) the force on the gate due to seawater pressure,
  > (b) the horizontal force P exerted by the wall at point A,
  > <image src="./assets/plane-surface-example1.jpeg" width="50%" style="transform: translateX(50%);margin-bottom:20px"/>
  
Solution:
  
> (1) **Find the geometry centroid:** In this case, the centroid should be halfway between, that's <img src="https://latex.codecogs.com/gif.latex?3ft"/> height above point B. so <img src="https://latex.codecogs.com/gif.latex?h_{CG}%20=%2015ft%20-%203ft%20=%2012ft"/>.
> (2) **Calculate the hydrostatic force:** <p align="center"><img src="https://latex.codecogs.com/gif.latex?F%20=%20p_aA%20+%20&#x5C;gamma%20h_{CG}%20A%20=%2064&#x5C;times12&#x5C;times(10&#x5C;times5)%20=%2038,400lbf"/></p>  
  
> (3) **Find the Center of Pressure**: First we have to calculate the moment of inertial for this rectangle gate
  
<p align="center"><img src="https://latex.codecogs.com/gif.latex?I_{xx}%20=%20&#x5C;frac{bL^3}{12}%20&#x5C;%20&#x5C;%20&#x5C;%20&#x5C;%20I_{xy}%20=%200"/></p>  
  
Then we can calculate the distance between CP and CG:
<p align="center"><img src="https://latex.codecogs.com/gif.latex?l%20=%20-%20&#x5C;frac{I_{xx}&#x5C;sin&#x5C;theta}{h_{CG}A}%20=%20-0.417ft%20&#x5C;%20&#x5C;%20&#x5C;%20(down%20&#x5C;%20below)"/></p>  
  
  
> By applying the equilibrium of moments, all the moments added together should equal to 0. (<img src="https://latex.codecogs.com/gif.latex?&#x5C;Sigma%20M%20=%200"/>):
> <p align="center"><img src="https://latex.codecogs.com/gif.latex?PL&#x5C;sin&#x5C;theta-F(5-l)%20=%200%20&#x5C;%20&#x5C;%20&#x5C;%20&#x5C;%20&#x5C;%20&#x5C;%20&#x5C;%20P%20=%2029,300lbf"/></p>  
 > <img src="./assets/plane-surface-example2.jpeg" width="60%" style="transform: translateX(30%);margin-bottom:20px">
  
###  Pressure Distribution in Rigid-Body Motion
  
  
- What is Rigid-body motion exactly?
  In rigid-body motion, all particles are in _combined translation and rotation_,there is **no relative motion** between particles.
  
- When a container filled with fluid move for a constant acceleration (<img src="https://latex.codecogs.com/gif.latex?a%20=%20Constant"/>),
  we can find the inertial forces at each coordinates:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?f_x%20=%200%20&#x5C;%20&#x5C;%20&#x5C;%20f_y%20=%20a&#x5C;cos&#x5C;alpha%20&#x5C;%20&#x5C;%20&#x5C;%20f_z%20=%20a&#x5C;sin&#x5C;alpha%20-%20g"/></p>  
  
  <img src="./assets/rigid-body-motion.jpeg" width="400">
  
  with equation (<img src="https://latex.codecogs.com/gif.latex?dp%20=%20&#x5C;rho%20&#x5C;int%20(f_xdx%20+%20f_ydy%20+%20f_zdz)"/>), we get:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?p%20=%20p_a%20+%20&#x5C;rho[a%20y%20cos&#x5C;alpha%20+%20z(a&#x5C;sin&#x5C;alpha%20-%20g)]"/></p>  
  
  
###  Pressure Distribution in Rigid-Body Rotation
  
  
- We assume that the container has been rotating _long enough_ at **constant angular-velocity <img src="https://latex.codecogs.com/gif.latex?&#x5C;omega"/>**
- For any arbitrary position inside the container, by analyzing the inertial forces:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?f_x%20=%20&#x5C;omega^2%20r%20&#x5C;cos&#x5C;alpha%20=%20&#x5C;omega^2%20x"/></p>  
 <p align="center"><img src="https://latex.codecogs.com/gif.latex?f_y%20=%20&#x5C;omega^2%20r%20&#x5C;sin&#x5C;alpha%20=%20&#x5C;omega^2%20y"/></p>  
 <p align="center"><img src="https://latex.codecogs.com/gif.latex?f_z%20=%20-g"/></p>  
  
  
 <img src="./assets/rigid-body-rotation.jpeg" width="200">
  
also by bringing in the equation (<img src="https://latex.codecogs.com/gif.latex?dp%20=%20&#x5C;rho%20&#x5C;int%20(f_xdx%20+%20f_ydy%20+%20f_zdz)"/>) we get:
<p align="center"><img src="https://latex.codecogs.com/gif.latex?p%20=%20&#x5C;rho(&#x5C;frac{&#x5C;omega^2x^2}{2}%20+%20&#x5C;frac{&#x5C;omega^2y^2}{2}%20-%20gz)%20+%20C"/></p>  
  
  
and because <img src="https://latex.codecogs.com/gif.latex?x^2%20+y^2%20=%20r^2"/>, we have <p align="center"><img src="https://latex.codecogs.com/gif.latex?p%20=%20&#x5C;rho%20(&#x5C;frac{&#x5C;omega^2r^2}{2}%20-%20gz)%20+%20C"/></p>  
  
  
- If it's in the situation where <img src="https://latex.codecogs.com/gif.latex?p%20=%20p_a"/> at <img src="https://latex.codecogs.com/gif.latex?(r,z)%20=%20(0,0)"/>,then <img src="https://latex.codecogs.com/gif.latex?C%20=%20p_a"/>. The final desired distribution is:
- <p align="center"><img src="https://latex.codecogs.com/gif.latex?p%20=%20&#x5C;rho%20(&#x5C;frac{&#x5C;omega^2r^2}{2}%20-%20gz)%20+%20p_a"/></p>  
  
- The pressure is linear in <img src="https://latex.codecogs.com/gif.latex?z"/> and parabolic in <img src="https://latex.codecogs.com/gif.latex?r"/>. Let's say, <img src="https://latex.codecogs.com/gif.latex?p%20=%20p_1"/>, the Equation is gonna become: <p align="center"><img src="https://latex.codecogs.com/gif.latex?z%20=%20&#x5C;frac{p_a%20-%20p_1}{&#x5C;rho%20g}%20+%20&#x5C;frac{&#x5C;omega^2r^2}{2g}"/></p>  
 and we can compare it with normal form of parabolic polynomial: <p align="center"><img src="https://latex.codecogs.com/gif.latex?z%20=%20a%20+%20br^2"/></p>  
  
  
- For any point on the _free-surface_, pressure should always be identical to the atmosphere(<img src="https://latex.codecogs.com/gif.latex?p_{atm}"/>), so we get the equation of free-surface: <p align="center"><img src="https://latex.codecogs.com/gif.latex?z%20=%20&#x5C;frac{&#x5C;omega^2r^2}{2g}"/></p>  
  
  - when <img src="https://latex.codecogs.com/gif.latex?r%20=%20%20R"/>, height is at its maximum value ( <img src="https://latex.codecogs.com/gif.latex?h_{max}%20=%20&#x5C;frac{&#x5C;omega^2R^2}{2g}"/> )
  - the Volume of a paraboloid is _one-half the base area times its height_ that is <img src="https://latex.codecogs.com/gif.latex?V%20=%20&#x5C;frac{&#x5C;pi%20R^2%20h_{max}}{2}"/>
  - The center of the fluid _drops_ an amount of <img src="https://latex.codecogs.com/gif.latex?h_{max}&#x2F;2"/> from the **still water level**, and edges rise an equal amount accordingly.
  
##  Differential Relations for Fluid Flow
  
  
###  Two ways to solve fluid flow problems --- eulerian frame and lagrangian frame
  
  
####  Eulerian Frame
  
  
- Total acceleration (**<img src="https://latex.codecogs.com/gif.latex?a"/>**): <p align="center"><img src="https://latex.codecogs.com/gif.latex?a%20=%20&#x5C;frac{∂u}{∂t}%20+%20(u&#x5C;frac{∂V}{∂x}%20+%20v&#x5C;frac{∂V}{∂y}%20+%20w&#x5C;frac{∂V}{∂z})"/></p>  
  
  where <img src="https://latex.codecogs.com/gif.latex?&#x5C;frac{∂u}{∂t}"/> is called _local acceleration_, which vanishes if the flow is _steady_ (independent of time, 定常流動), and the others are called _convective acceleration_.
  
###  Streamline and Pathline
  
  
- Streamline: a line everywhere tangent(相切) to the velocity vector at a given instant.
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?&#x5C;frac{dx}{u}%20=%20&#x5C;frac{dy}{v}%20=%20&#x5C;frac{dz}{w}"/></p>  
  
  
- Pathline: Actual path traversed by a given fluid particle.
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?x%20=%20&#x5C;int%20u%20&#x5C;%20dt%20&#x5C;%20&#x5C;%20&#x5C;%20y%20=%20&#x5C;int%20v%20&#x5C;%20dt%20%20&#x5C;%20&#x5C;%20&#x5C;%20z%20=%20&#x5C;int%20w%20&#x5C;%20dt"/></p>  
 <p align="center"><img src="https://latex.codecogs.com/gif.latex?dx%20=%20udt%20&#x5C;%20&#x5C;%20&#x5C;%20dy%20=%20vdt%20&#x5C;%20&#x5C;%20&#x5C;%20dz%20=%20wdt"/></p>  
  
  
###  Volume Flow
  
  
- The total volume of fluid flowing through an Intersection with area of A per unit time, that is Volume Flow:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?q%20=%20&#x5C;int_A%20v_ndA"/></p>  
 <p align="center"><img src="https://latex.codecogs.com/gif.latex?q%20=%20v_{avg}%20A"/></p>  
  
  
###  The Differential Equation of Mass Conservation (Continuity Relation)
  
  
<p align="center"><img src="https://latex.codecogs.com/gif.latex?&#x5C;frac{∂&#x5C;rho}{∂t}%20+%20&#x5C;frac{∂(&#x5C;rho%20u)}{∂x}%20+%20&#x5C;frac{∂(&#x5C;rho%20v)}{∂y}%20+%20&#x5C;frac{∂(&#x5C;rho%20w)}{∂z}%20=%200"/></p>  
  
  
- It requires no assumption except that the _density_ and _velocity_ are continuum functions.
- In terms of _incompressible flow_, the density changes are negligible. So we assume <img src="https://latex.codecogs.com/gif.latex?∂p&#x2F;∂t%20&#x5C;approx%200"/> _regardless of whether the flow is steady or not._ And the result: <p align="center"><img src="https://latex.codecogs.com/gif.latex?&#x5C;frac{∂u}{∂x}%20+%20&#x5C;frac{∂v}{∂y}%20+%20&#x5C;frac{∂w}{∂z}%20=%200"/></p>  
  
  
###  The Bernoulli Equation:
  
  
For **Steady, frictionless, incompressible** flow along a streamline:
<p align="center"><img src="https://latex.codecogs.com/gif.latex?&#x5C;frac{p_1}{&#x5C;rho}%20+%20&#x5C;frac{V_1^2}{2}%20+%20gz_1%20=%20&#x5C;frac{p_2}{&#x5C;rho}%20+%20&#x5C;frac{V_2^2}{2}%20+%20gz_2%20=%20Const"/></p>  
  
  
- A few terms on geometry:
  - Elevation Head (位置水頭) <img src="https://latex.codecogs.com/gif.latex?z"/>
  - Pressure Head (壓力水頭) <img src="https://latex.codecogs.com/gif.latex?p&#x2F;&#x5C;gamma%20=%20p&#x2F;&#x5C;rho%20g"/>
  - Velocity Head (速度水頭) <img src="https://latex.codecogs.com/gif.latex?V^2&#x2F;2g"/>
    <img src="./assets/bernoulli.jpeg">
  
###  Kinetic Energy Correction Factor
  
  
( <img src="https://latex.codecogs.com/gif.latex?&#x5C;alpha"/> )
  
Due to viscosity friction, flow energy is going to decline some how. Thus, we should do an correction for Bernoulli Equation if we want to apply it on actual flows. <p align="center"><img src="https://latex.codecogs.com/gif.latex?z_1%20+%20&#x5C;frac{p_1}{&#x5C;rho%20g}%20+%20&#x5C;frac{&#x5C;alpha_1%20&#x5C;%20V_1^2}{2g}%20=%20z_2%20+%20&#x5C;frac{p_2}{&#x5C;rho%20g}%20+%20&#x5C;frac{&#x5C;alpha_2%20&#x5C;%20V_2^2}{2g}%20+%20h_f"/></p>  
  
  
where <img src="https://latex.codecogs.com/gif.latex?&#x5C;alpha"/> is equal to:<p align="center"><img src="https://latex.codecogs.com/gif.latex?&#x5C;alpha%20=%20&#x5C;frac{1}{A}&#x5C;int%20(&#x5C;frac{u}{v_{avg}})^3dA"/></p>  
  
All we need to remember : <img src="https://latex.codecogs.com/gif.latex?&#x5C;alpha"/> is relative to ducts' intersection area.
  
##  Viscous Flow in Ducts
  
  
###  Two flowing state:
  
  
- Laminar (層流): Simply means "Steady".
- Turbulent (湍流): Fluctuating and Agitated.
  
###  Reynolds Number
  
  
- Definition:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?Re%20=%20&#x5C;frac{&#x5C;rho%20&#x5C;%20VL}{&#x5C;mu}%20=%20&#x5C;frac{VL}{&#x5C;nu}"/></p>  
  
  
###  Critical Reynolds Number
  
  
Notice that when a transition from Laminar to Turbulent on a **normal commercial pipe**, the **critical Reynolds number** <img src="https://latex.codecogs.com/gif.latex?Re_{crit}"/> is at about <img src="https://latex.codecogs.com/gif.latex?Re_{crit}%20&#x5C;approx%202300"/>. When <img src="https://latex.codecogs.com/gif.latex?Re%20&gt;%20Re_{crit}"/> , the flow is going to be Turbulent, otherwise it's going to be Laminar.
  
However, it's only meaningful for pipe, _other geometries_ have _completely different_ transition Reynolds number (<img src="https://latex.codecogs.com/gif.latex?Re_d%20=%20Vd&#x2F;&#x5C;nu"/>) and critical Reynolds number.
  
  
  
  
###  Laminar
  
  
####  Head Loss
  
  
- head lost along the pipe -- <img src="https://latex.codecogs.com/gif.latex?h_&#x5C;lambda"/>
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?h_f%20=%20&#x5C;lambda&#x5C;frac{LV_{avg}^2}{2dg}"/></p>  
  
  where d is pipe's diameter, L is the length of pipe. And "<img src="https://latex.codecogs.com/gif.latex?&#x5C;lambda"/>" is called _Darcy friction factor (沿程阻力係數)_, which is affected by roughness of pipe.
  
  - <img src="https://latex.codecogs.com/gif.latex?&#x5C;lambda%20=%20&#x5C;frac{64}{Re}"/>, is a **constant value** for any pipe, which is not related to any other factor.
  
- partial head lost -- <img src="https://latex.codecogs.com/gif.latex?h_&#x5C;zeta"/>
  - partial head lost <img src="https://latex.codecogs.com/gif.latex?h_&#x5C;zeta%20=%20&#x5C;zeta%20&#x5C;frac{v^2}{2g}"/>
  - partial pressure head lost <img src="https://latex.codecogs.com/gif.latex?&#x5C;Delta%20p%20=%20&#x5C;zeta%20&#x5C;frac{&#x5C;rho%20v^2}{2}"/>
- total head lost -- <img src="https://latex.codecogs.com/gif.latex?h_f"/>
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?h_f%20=%20&#x5C;Sigma%20h_&#x5C;lambda%20+%20&#x5C;Sigma%20h_&#x5C;zeta"/></p>  
  
  which indicates the loss of _total energy_
  
  For incompressible steady flow inside an inclined (has different height in each part),constant-area pipe. We can apply _one-dimensional continuity relation_. That is: <p align="center"><img src="https://latex.codecogs.com/gif.latex?Q_1%20=%20Q_2%20=%20const,%20V_1%20=%20V_2%20=%20V"/></p>  
. And we have <a href="#kinetic-energy-correction-factor">corrected Bernoulli Equation</a>:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?z_1%20+%20&#x5C;frac{p_1}{&#x5C;rho%20g}%20+%20&#x5C;frac{&#x5C;alpha_1%20&#x5C;%20V_1^2}{2g}%20=%20z_2%20+%20&#x5C;frac{p_2}{&#x5C;rho%20g}%20+%20&#x5C;frac{&#x5C;alpha_2%20&#x5C;%20V_2^2}{2g}%20+%20h_f"/></p>  
  
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?h_f%20=%20&#x5C;Delta%20z%20+%20&#x5C;frac{&#x5C;Delta%20p}{&#x5C;rho%20g}"/></p>  
  
  
####  Laminar Fully Developed Pipe Flow
  
  
<img src="./assets/laminar.jpeg" width="400">
  
- Flow rate distribution across an arbitrary cross-section:
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?u%20=%20&#x5C;frac{&#x5C;Delta%20p}{4L&#x5C;mu}(R^2-r^2)"/></p>  
  
  where u have its maximum value when <img src="https://latex.codecogs.com/gif.latex?r%20=%200"/>, and <img src="https://latex.codecogs.com/gif.latex?u"/> should be <p align="center"><img src="https://latex.codecogs.com/gif.latex?u_{max}%20=%20&#x5C;frac{&#x5C;Delta%20p}{4L&#x5C;mu}R^2"/></p>  
  
  
- the Average flow rate for arbitrary cross-section:
  
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?q%20=%20&#x5C;int%20dq%20=%20&#x5C;int%20^R_0%20u%20&#x5C;%202&#x5C;pi%20r%20dr%20=%20&#x5C;int%20^R_0%20&#x5C;frac{&#x5C;Delta%20p}{4L&#x5C;mu}(R^2-r^2)%20&#x5C;%202&#x5C;pi%20r%20dr%20=%20&#x5C;frac{&#x5C;pi%20R^4}{8&#x5C;mu%20L}&#x5C;Delta%20p"/></p>  
  
  <p align="center"><img src="https://latex.codecogs.com/gif.latex?v_{avg}%20=%20&#x5C;frac{q}{A}%20=%20&#x5C;frac{&#x5C;Delta%20p}{8L&#x5C;mu}R^2"/></p>  
  
  
  So, we can clearly know that for an arbitrary cross-section, the maximum flow rate is as **twice** as the average value, which appears in the **right middle** of the cross-section region.
  